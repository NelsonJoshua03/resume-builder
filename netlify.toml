[build]
  command = "npm run build"
  publish = "dist"

[dev]
  targetPort = 3001
  framework = "vite"

# Environment variables
[build.environment]
  NODE_VERSION = "20.18.1"

[context.production.environment]
  NODE_VERSION = "20.18.1"

# Redirects for SEO - UPDATED FOR CAREERCRAFT.IN
[[redirects]]
  from = "https://resumecvforge.netlify.app/*"
  to = "https://careercraft.in/:splat"
  status = 301

[[redirects]]
  from = "http://careercraft.in/*"
  to = "https://careercraft.in/:splat"
  status = 301

# Priority redirects for SEO files
[[redirects]]
  from = "/sitemap.xml"
  to = "/sitemap.xml"
  status = 200
  force = true

[[redirects]]
  from = "/robots.txt"
  to = "/robots.txt"
  status = 200
  force = true

# Redirect for Google verification file
[[redirects]]
  from = "/google213349ae4cc6099f.html"
  to = "/google213349ae4cc6099f.html"
  status = 200
  force = true

# SPA fallback for all other routes (must come last)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200