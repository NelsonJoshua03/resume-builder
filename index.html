<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Content Security Policy - PRODUCTION -->
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self' https:;
                   script-src 'self' 'unsafe-inline' 'unsafe-eval'
                           https://www.googletagmanager.com 
                           https://www.google-analytics.com
                           https://cdnjs.cloudflare.com
                           https://*.firebaseio.com
                           https://*.googleapis.com;
                   style-src 'self' 'unsafe-inline' 
                           https://cdnjs.cloudflare.com 
                           https://fonts.googleapis.com;
                   font-src 'self' 
                           https://cdnjs.cloudflare.com 
                           https://fonts.gstatic.com
                           data:;
                   img-src 'self' data: https: blob:;
                   frame-src 'self' https:;
                   connect-src 'self' 
                           https://www.google-analytics.com 
                           https://region1.google-analytics.com 
                           https://*.googleapis.com
                           https://*.gstatic.com
                           wss://*.firebaseio.com
                           https://raw.githubusercontent.com
                           https://cdn.jsdelivr.net;">
    
    <!-- Google Verification -->
    <meta name="google-site-verification" content="72ogLK0F0xw0H23swyyhs8idWOcyyv7hr1-zAMZ9v7w" />
    
    <!-- Primary Meta Tags -->
    <title>CareerCraft.in - Free ATS Resume Builder & Job Portal | India's Career Platform</title>
    <meta name="title" content="CareerCraft.in - Free ATS Resume Builder & Job Portal | India's Career Platform">
    <meta name="description" content="Create professional ATS-optimized resumes for Indian job market. Find latest job openings in India. Free resume templates for engineers, IT, developers & freshers.">
    <meta name="keywords" content="resume builder India, ATS resume maker, job portal India, Indian job search, engineering jobs India, IT jobs India, fresher jobs India, free resume maker, CV builder India, career platform India, Bangalore jobs, Delhi jobs, Mumbai jobs, Chennai jobs, Hyderabad jobs">
    <meta name="author" content="CareerCraft India">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <meta name="theme-color" content="#2563eb">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://careercraft.in/">
    
    <!-- Enhanced Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "CareerCraft India",
      "url": "https://careercraft.in/",
      "description": "India's premier career platform - Free ATS-friendly resume builder and job portal for Indian job seekers. Find jobs in IT, engineering, marketing and more.",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web Browser",
      "permissions": "browser",
      "areaServed": "IN",
      "countryOfOrigin": "India",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "1250"
      }
    }
    </script>

    <!-- Organization Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "CareerCraft India",
      "url": "https://careercraft.in/",
      "description": "India's free ATS-friendly resume builder and job portal",
      "email": "contact@careercraft.in",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "IN"
      },
      "sameAs": [
        "https://www.linkedin.com/in/career-coach-expert-2a47a0399",
        "https://www.instagram.com/career_craft_india/"
      ]
    }
    </script>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://careercraft.in/" />
    <meta property="og:title" content="CareerCraft.in - Free ATS Resume Builder & Job Portal | India's Career Platform" />
    <meta property="og:description" content="Create professional ATS-optimized resumes for Indian job market. Find latest job openings in IT, engineering, marketing sectors across India." />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:url" content="https://careercraft.in/" />
    <meta property="twitter:title" content="CareerCraft.in - Free ATS Resume Builder & Job Portal | India's Career Platform" />
    <meta property="twitter:description" content="Create professional ATS-optimized resumes for Indian job market. Find latest job openings across India." />
    
    <!-- Firebase Configuration (Production) -->
    <script type="module">
      // Import Firebase modules
      import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';
      import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js';
      import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';
      import { getAuth } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';
      import { getPerformance } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-performance.js';

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyA6JjC8qYgQ6q6Q6Q6Q6Q6Q6Q6Q6Q6Q6Q6",
        authDomain: "careercraft-in.firebaseapp.com",
        projectId: "careercraft-in",
        storageBucket: "careercraft-in.appspot.com",
        messagingSenderId: "1234567890",
        appId: "1:1234567890:web:1234567890",
        measurementId: "G-1234567890"
      };

      // Initialize Firebase
      try {
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const firestore = getFirestore(app);
        const auth = getAuth(app);
        const performance = getPerformance(app);
        
        console.log('‚úÖ Firebase initialized successfully in index.html');
        
        // Set global variables for app to use
        window.firebaseApp = app;
        window.firebaseAnalytics = analytics;
        window.firebaseFirestore = firestore;
        
        // Check GDPR consent
        const hasConsent = localStorage.getItem('gdpr_consent') === 'accepted';
        if (!hasConsent) {
          console.log('GDPR consent not given, Firebase analytics disabled');
        }
      } catch (error) {
        console.error('‚ùå Firebase initialization failed in index.html:', error);
      }
    </script>

    <!-- Google Analytics - DUAL TRACKING -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SW5M9YN8L5"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      
      // Track for https://careercraft.in
      gtag('config', 'G-SW5M9YN8L5', {
        'allow_google_signals': false,
        'allow_ad_personalization_signals': false,
        'cookie_domain': 'auto',
        'cookie_flags': 'SameSite=None;Secure',
        'linker': {
          'domains': ['careercraft.in', 'www.careercraft.in']
        }
      });
      
      // Track for https://www.careercraft.in
      gtag('config', 'G-WSKZJDJW77', {
        'allow_google_signals': false,
        'allow_ad_personalization_signals': false,
        'cookie_domain': 'auto',
        'cookie_flags': 'SameSite=None;Secure',
        'linker': {
          'domains': ['careercraft.in', 'www.careercraft.in']
        }
      });
      
      // Debug info
      console.log('Google Analytics initialized for:', window.location.hostname);
    </script>
    
    <!-- Preload critical resources -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- Additional SEO Meta Tags -->
    <meta name="language" content="EN">
    <meta name="geo.region" content="IN">
    <meta name="geo.placename" content="India">
    <meta name="rating" content="general">
    <meta name="revisit-after" content="7 days">
    
    <!-- Basic favicon fallback -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìÑ</text></svg>">
    
    <!-- Preload Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Performance optimization -->
    <link rel="preconnect" href="https://raw.githubusercontent.com">
    <link rel="dns-prefetch" href="https://raw.githubusercontent.com">
    
    <style>
      /* Ensure proper width on all browsers */
      * {
        box-sizing: border-box;
      }
      
      html, body {
        width: 100%;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }
      
      #root {
        width: 100%;
        min-height: 100vh;
        overflow-x: hidden;
      }
      
      /* Improve scrolling */
      body {
        scroll-behavior: smooth;
      }
      
      /* Loading animation */
      .loading-spinner {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 2px solid #f3f3f3;
        border-top: 2px solid #2563eb;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      /* Better focus styles for accessibility */
      :focus {
        outline: 2px solid #2563eb;
        outline-offset: 2px;
      }
      
      :focus:not(:focus-visible) {
        outline: none;
      }
      
      /* Responsive improvements */
      @media (max-width: 768px) {
        html {
          font-size: 14px;
        }
      }
    </style>
    
    <!-- Progressive Web App meta tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="CareerCraft">
    
    <!-- Apple touch icon -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìÑ</text></svg>">
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NOSCRIPT" 
              height="0" width="0" style="display:none;visibility:hidden">
      </iframe>
    </noscript>
    
    <div id="root">
      <!-- Loading screen -->
      <div style="display: flex; justify-content: center; align-items: center; min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div style="text-align: center; color: white; padding: 2rem;">
          <div class="loading-spinner" style="width: 40px; height: 40px; margin: 0 auto 1rem;"></div>
          <h1 style="font-size: 1.5rem; margin-bottom: 0.5rem;">CareerCraft India</h1>
          <p style="opacity: 0.8;">Loading your career journey...</p>
          <p style="font-size: 0.8rem; opacity: 0.6; margin-top: 1rem;" id="firebase-status">Initializing Firebase...</p>
        </div>
      </div>
    </div>
    
    <!-- Vite will inject the script here -->
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Firebase Debug Script -->
    <script>
      // Firebase initialization status
      setTimeout(() => {
        const statusElement = document.getElementById('firebase-status');
        if (statusElement) {
          const hasConsent = localStorage.getItem('gdpr_consent') === 'accepted';
          if (hasConsent) {
            statusElement.textContent = 'Firebase: Initializing...';
          } else {
            statusElement.textContent = 'Firebase: Waiting for GDPR consent...';
          }
        }
      }, 1000);

      // Performance monitoring
      window.addEventListener('load', function() {
        setTimeout(function() {
          const perfData = window.performance.timing;
          const loadTime = perfData.loadEventEnd - perfData.navigationStart;
          
          if (typeof window.gtag !== 'undefined') {
            // Send to both GA properties
            window.gtag('event', 'timing_complete', {
              'name': 'page_load',
              'value': loadTime,
              'event_category': 'Performance',
              'send_to': 'G-SW5M9YN8L5'
            });
            
            window.gtag('event', 'timing_complete', {
              'name': 'page_load',
              'value': loadTime,
              'event_category': 'Performance',
              'send_to': 'G-WSKZJDJW77'
            });
          }
        }, 0);
      });
      
      // Error tracking
      window.addEventListener('error', function(e) {
        if (typeof window.gtag !== 'undefined') {
          // Send to both GA properties
          window.gtag('event', 'exception', {
            'description': e.error?.message || 'Unknown error',
            'fatal': false,
            'send_to': 'G-SW5M9YN8L5'
          });
          
          window.gtag('event', 'exception', {
            'description': e.error?.message || 'Unknown error',
            'fatal': false,
            'send_to': 'G-WSKZJDJW77'
          });
        }
      });

      // Debug info
      console.log('=== CareerCraft Debug Info ===');
      console.log('URL:', window.location.href);
      console.log('Hostname:', window.location.hostname);
      console.log('Environment:', window.location.hostname.includes('localhost') ? 'development' : 'production');
      console.log('Firebase App:', window.firebaseApp ? '‚úÖ Loaded' : '‚ùå Not loaded');
      console.log('GDPR Consent:', localStorage.getItem('gdpr_consent') || 'Not set');
      console.log('============================');
    </script>
  </body>
</html>