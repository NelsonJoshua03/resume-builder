<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- SIMPLE CSP FOR NOW (Add back after deployment works) -->
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self' https:;
                   script-src 'self' 'unsafe-inline' 'unsafe-eval' https:;
                   style-src 'self' 'unsafe-inline' https:;
                   img-src 'self' data: https: blob:;
                   font-src 'self' https: data:;
                   connect-src 'self' https: wss:;">
    
    <!-- CRITICAL CSS (inline to avoid render blocking) -->
    <style>
      /* Minimal critical CSS */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      
      html, body {
        width: 100%;
        min-height: 100vh;
        overflow-x: hidden;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }
      
      #root {
        width: 100%;
        min-height: 100vh;
      }
      
      /* Critical loading screen */
      .critical-loading {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        text-align: center;
        z-index: 9999;
        transition: opacity 0.3s ease;
      }
      
      .loading-spinner {
        display: inline-block;
        width: 40px;
        height: 40px;
        border: 3px solid rgba(255, 255, 255, 0.3);
        border-top: 3px solid #ffffff;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      
      /* System font stack for immediate text display */
      .font-loading {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }
    </style>
    
    <!-- RESOURCE HINTS (Critical connections) -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://www.gstatic.com">
    <link rel="preconnect" href="https://firebase.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://www.gstatic.com">
    <link rel="dns-prefetch" href="https://firebase.googleapis.com">
    
    <!-- ASYNC FONT LOADING with font-display: swap -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript>
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    </noscript>
    
    <!-- REMOVED: Admin password from frontend -->
    <!-- Admin authentication is now handled via backend Firebase Cloud Functions -->
    
    <!-- Google Verification -->
    <meta name="google-site-verification" content="72ogLK0F0xw0H23swyyhs8idWOcyyv7hr1-zAMZ9v7w" />
    <meta name="google-site-verification" content="IInb8W_1cTF0icY9hTL83_lpHFPM7Yt30HlzIk71gpQ" />
    
    <!-- Primary Meta Tags for Home Page -->
    <title>CareerCraft.in - Free ATS Resume Builder & Job Portal | India's Career Platform</title>
    <meta name="title" content="CareerCraft.in - Free ATS Resume Builder & Job Portal | India's Career Platform">
    <meta name="description" content="Create professional ATS-optimized resumes for Indian job market. Find latest job openings in India. Free resume templates for engineers, IT, developers & freshers.">
    <meta name="keywords" content="free resume builder, online resume maker, ATS resume builder, CV maker online, professional resume builder, resume builder for freshers, resume builder India, Indian job portal, career platform India, resume builder for engineers, resume builder for IT jobs, resume builder for developers, create resume online, free CV maker, ATS resume templates, Indian resume builder 2024">
    <meta name="author" content="CareerCraft India">
    <meta name="robots" content="index, follow, max-image-preview:large">
    <meta name="theme-color" content="#2563eb">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://careercraft.in/">
    
    <!-- Enhanced Structured Data for Home Page -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "CareerCraft India",
      "url": "https://careercraft.in/",
      "description": "India's premier career platform - Free ATS-friendly resume builder and job portal for Indian job seekers. Find latest fresher jobs in IT, engineering, marketing and more.",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web Browser",
      "permissions": "browser",
      "areaServed": "IN",
      "countryOfOrigin": "India",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "INR"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "ratingCount": "1250"
      },
      "featureList": [
        "Free ATS Resume Builder",
        "Latest Fresher Jobs in India",
        "Online Resume Maker",
        "CV Maker Online",
        "Professional Resume Templates",
        "Job Portal for India",
        "Walk-in Drives",
        "Career Blog"
      ]
    }
    </script>

    <!-- Additional Structured Data for All Resume Builder Pages -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "WebApplication",
          "name": "Free Resume Builder",
          "url": "https://careercraft.in/free-resume-builder",
          "description": "Create professional resumes for free with ATS-friendly templates",
          "applicationCategory": "BusinessApplication"
        },
        {
          "@type": "WebApplication",
          "name": "ATS Resume Builder",
          "url": "https://careercraft.in/ats-resume-builder",
          "description": "ATS-optimized resume builder for Indian companies",
          "applicationCategory": "BusinessApplication"
        },
        {
          "@type": "WebApplication",
          "name": "Online Resume Maker",
          "url": "https://careercraft.in/online-resume-maker",
          "description": "Create resumes online with professional templates",
          "applicationCategory": "BusinessApplication"
        },
        {
          "@type": "WebApplication",
          "name": "CV Maker Online",
          "url": "https://careercraft.in/cv-maker-online",
          "description": "Create professional CVs online for free",
          "applicationCategory": "BusinessApplication"
        },
        {
          "@type": "WebApplication",
          "name": "Professional Resume Builder",
          "url": "https://careercraft.in/professional-resume-builder",
          "description": "Executive-level resume builder for senior roles",
          "applicationCategory": "BusinessApplication"
        },
        {
          "@type": "WebApplication",
          "name": "Resume Builder for Freshers",
          "url": "https://careercraft.in/resume-builder-for-freshers",
          "description": "Resume builder for freshers and first-time job seekers",
          "applicationCategory": "BusinessApplication"
        },
        {
          "@type": "WebApplication",
          "name": "Resume Builder for Engineers",
          "url": "https://careercraft.in/resume-builder-for-engineers",
          "description": "Technical resume builder for engineering professionals",
          "applicationCategory": "BusinessApplication"
        },
        {
          "@type": "WebApplication",
          "name": "Resume Builder for IT Jobs",
          "url": "https://careercraft.in/resume-builder-for-it-jobs",
          "description": "Resume builder for IT professionals and tech jobs",
          "applicationCategory": "BusinessApplication"
        },
        {
          "@type": "WebApplication",
          "name": "Resume Builder for Developers",
          "url": "https://careercraft.in/resume-builder-for-developers",
          "description": "Resume builder for software developers and programmers",
          "applicationCategory": "BusinessApplication"
        },
        {
          "@type": "WebApplication",
          "name": "Create Resume Online",
          "url": "https://careercraft.in/create-resume-online",
          "description": "Instant resume maker with no sign up required",
          "applicationCategory": "BusinessApplication"
        }
      ]
    }
    </script>

    <!-- Organization Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "CareerCraft India",
      "url": "https://careercraft.in/",
      "description": "India's free ATS-friendly resume builder and fresher job portal",
      "email": "contact@careercraft.in",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "IN"
      },
      "sameAs": [
        "https://www.linkedin.com/in/career-coach-expert-2a47a0399",
        "https://www.instagram.com/career_craft_india/"
      ]
    }
    </script>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://careercraft.in/" />
    <meta property="og:title" content="CareerCraft.in - Free ATS Resume Builder & Job Portal | India's Career Platform" />
    <meta property="og:description" content="Create professional ATS-optimized resumes for Indian job market. Find latest fresher job openings in IT, engineering, marketing sectors across India." />
    <meta property="og:image" content="https://careercraft.in/og/careercraft-homepage-preview.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="CareerCraft.in" />
    <meta property="og:locale" content="en_IN" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://careercraft.in/" />
    <meta property="twitter:title" content="CareerCraft.in - Free ATS Resume Builder & Job Portal | India's Career Platform" />
    <meta property="twitter:description" content="Create professional ATS-optimized resumes for Indian job market. Find latest fresher job openings across India." />
    <meta property="twitter:image" content="https://careercraft.in/og/careercraft-homepage-preview.jpg" />
    
    <!-- Additional SEO Meta Tags -->
    <meta name="language" content="EN">
    <meta name="geo.region" content="IN">
    <meta name="geo.placename" content="India">
    <meta name="geo.position" content="20.5937;78.9629">
    <meta name="ICBM" content="20.5937, 78.9629">
    <meta name="rating" content="general">
    <meta name="revisit-after" content="7 days">
    
    <!-- Basic favicon fallback -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìÑ</text></svg>">
    
    <!-- Performance optimization -->
    <link rel="preconnect" href="https://raw.githubusercontent.com">
    <link rel="dns-prefetch" href="https://raw.githubusercontent.com">
    <link rel="preconnect" href="https://us-central1-careercraft-36711.cloudfunctions.net">
    <link rel="dns-prefetch" href="https://us-central1-careercraft-36711.cloudfunctions.net">
    
    <!-- Progressive Web App meta tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="CareerCraft">
    
    <!-- Apple touch icon -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìÑ</text></svg>">
  </head>
  <body class="font-loading">
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NOSCRIPT" 
              height="0" width="0" style="display:none;visibility:hidden">
      </iframe>
    </noscript>
    
    <div id="root">
      <!-- Critical loading screen (removed after app loads) -->
      <div class="critical-loading">
        <div style="text-align: center; padding: 2rem;">
          <div class="loading-spinner"></div>
          <h1 style="font-size: 1.5rem; margin: 1rem 0;">CareerCraft India</h1>
          <p style="opacity: 0.8;">Loading your career journey...</p>
        </div>
      </div>
    </div>
    
    <!-- Vite will inject the script here - DEFER FOR PERFORMANCE -->
    <script type="module" src="/src/main.tsx" defer></script>
    
    <!-- CRITICAL PERFORMANCE SCRIPT (loads immediately) -->
    <script>
      // Performance monitoring - load immediately
      window.__PERFORMANCE_START = performance.now();
      window.__FIREBASE_LOADED = false;
      window.__BACKEND_READY = false;
      
      // Set debug mode
      window.DEBUG_MODE = window.location.hostname.includes('localhost') || 
                         window.location.hostname.includes('127.0.0.1') ||
                         window.location.search.includes('debug=true');
      
      // Function to load non-critical resources
      function loadDeferredResources() {
        // Load Font Awesome only when needed (non-critical)
        const faLink = document.createElement('link');
        faLink.rel = 'stylesheet';
        faLink.href = 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';
        faLink.crossOrigin = 'anonymous';
        faLink.referrerPolicy = 'no-referrer';
        document.head.appendChild(faLink);
        
        // Load Google Analytics after critical render (non-critical)
        if (!window.DEBUG_MODE) {
          const gaScript = document.createElement('script');
          gaScript.async = true;
          gaScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-SW5M9YN8L5';
          document.head.appendChild(gaScript);
          
          gaScript.onload = function() {
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-SW5M9YN8L5', {
              'allow_google_signals': false,
              'allow_ad_personalization_signals': false,
              'cookie_flags': 'SameSite=None;Secure'
            });
            
            // Track second property
            gtag('config', 'G-WSKZJDJWJW', {
              'allow_google_signals': false,
              'allow_ad_personalization_signals': false,
              'cookie_flags': 'SameSite=None;Secure'
            });
          };
        }
      }
      
      // Initialize minimal Firebase for critical functions (Firestore/Functions)
      function initCriticalFirebase() {
        // Load only critical Firebase modules immediately
        const firebaseScript = document.createElement('script');
        firebaseScript.type = 'module';
        firebaseScript.textContent = `
          import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';
          import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';
          import { getFunctions } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-functions.js';
          
          const firebaseConfig = {
            apiKey: "AIzaSyBZn_ORun-6J558JMFjTaKHJGcoshwVJPU",
            authDomain: "careercraft-36711.firebaseapp.com",
            projectId: "careercraft-36711",
            storageBucket: "careercraft-36711.firebasestorage.app",
            messagingSenderId: "455791585830",
            appId: "1:455791585830:web:6fd2f3ee52efd8cf4514e7",
            measurementId: "G-WSKZJDJW77"
          };
          
          try {
            const app = initializeApp(firebaseConfig);
            const firestore = getFirestore(app);
            const functions = getFunctions(app, 'us-central1');
            
            // Store globally for React app to use
            window.firebaseApp = app;
            window.firebaseFirestore = firestore;
            window.firebaseFunctions = functions;
            window.__FIREBASE_LOADED = true;
            
            if (window.DEBUG_MODE) {
              console.log('üî• Firebase critical services loaded');
            }
            
            // Test backend connection
            setTimeout(() => {
              fetch('https://us-central1-careercraft-36711.cloudfunctions.net/ping', {
                method: 'GET',
                headers: { 'Content-Type': 'application/json' }
              })
              .then(res => {
                window.__BACKEND_READY = res.ok;
                if (window.DEBUG_MODE) {
                  console.log('‚úÖ Backend ping successful');
                }
              })
              .catch(err => {
                if (window.DEBUG_MODE) {
                  console.warn('‚ö†Ô∏è Backend ping failed:', err.message);
                }
              });
            }, 500);
            
          } catch (error) {
            if (window.DEBUG_MODE) {
              console.error('Firebase critical init failed:', error);
            }
          }
        `;
        document.head.appendChild(firebaseScript);
      }
      
      // Remove loading screen when app is ready
      function removeLoadingScreen() {
        const loadingScreen = document.querySelector('.critical-loading');
        if (loadingScreen) {
          loadingScreen.style.opacity = '0';
          setTimeout(() => {
            loadingScreen.style.display = 'none';
          }, 300);
        }
      }
      
      // Initialize when DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
          // 1. Start loading critical Firebase services
          initCriticalFirebase();
          
          // 2. Load deferred resources after 1 second
          setTimeout(loadDeferredResources, 1000);
          
          // 3. Remove loading screen after 3 seconds max
          setTimeout(removeLoadingScreen, 3000);
          
          // 4. Track performance
          window.__DOM_LOADED = performance.now();
          if (window.DEBUG_MODE) {
            console.log('üöÄ DOM loaded in', (window.__DOM_LOADED - window.__PERFORMANCE_START).toFixed(0), 'ms');
          }
        });
      } else {
        // DOM already loaded
        initCriticalFirebase();
        setTimeout(loadDeferredResources, 1000);
        setTimeout(removeLoadingScreen, 3000);
      }
      
      // Global error handling for performance monitoring
      window.addEventListener('error', function(e) {
        if (typeof window.gtag !== 'undefined') {
          window.gtag('event', 'exception', {
            'description': e.error?.message || 'Unknown error',
            'fatal': false
          });
        }
      });
    </script>
    
    <!-- WEB VITALS TRACKING (MOVED BEFORE CSP VIOLATION) -->
    <script>
      // Load web-vitals from alternative source or remove if causing issues
      setTimeout(function() {
        if ('performance' in window && 'getEntriesByType' in performance) {
          // Track Core Web Vitals manually if web-vitals script fails
          const logWebVitals = () => {
            const navTiming = performance.getEntriesByType('navigation')[0];
            if (navTiming) {
              const ttfb = navTiming.responseStart - navTiming.requestStart;
              if (window.DEBUG_MODE) {
                console.log('üìä TTFB:', ttfb.toFixed(2), 'ms');
              }
            }
            
            // Track LCP
            new PerformanceObserver((entryList) => {
              const entries = entryList.getEntries();
              const lastEntry = entries[entries.length - 1];
              if (window.DEBUG_MODE) {
                console.log('üìä LCP:', lastEntry?.startTime?.toFixed(2) || 'N/A', 'ms');
              }
            }).observe({ type: 'largest-contentful-paint', buffered: true });
            
            // Track CLS
            new PerformanceObserver((entryList) => {
              for (const entry of entryList.getEntries()) {
                if (window.DEBUG_MODE) {
                  console.log('üìä CLS:', entry.value?.toFixed(4) || 'N/A');
                }
              }
            }).observe({ type: 'layout-shift', buffered: true });
          };
          
          // Run after page is fully loaded
          window.addEventListener('load', () => {
            setTimeout(logWebVitals, 1000);
          });
        }
        
        // Final performance log
        if (window.DEBUG_MODE) {
          const loadTime = performance.now() - window.__PERFORMANCE_START;
          console.log('üèÅ Page fully loaded in', loadTime.toFixed(0), 'ms');
          console.log('Firebase loaded:', window.__FIREBASE_LOADED);
          console.log('Backend ready:', window.__BACKEND_READY);
        }
      }, 1000);
    </script>
    
    <!-- FIREBASE ANALYTICS & AUTH (non-critical - loaded after main content) -->
    <script type="module" defer>
      // Load non-critical Firebase modules after main content
      setTimeout(() => {
        const script = document.createElement('script');
        script.type = 'module';
        script.textContent = `
          import { getAuth } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';
          import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js';
          
          if (window.firebaseApp) {
            try {
              // Initialize analytics (non-critical)
              const analytics = getAnalytics(window.firebaseApp);
              window.firebaseAnalytics = analytics;
              
              // Initialize auth (non-critical)
              const auth = getAuth(window.firebaseApp);
              window.firebaseAuth = auth;
              
              if (window.DEBUG_MODE) {
                console.log('üìä Firebase analytics & auth loaded');
              }
              
              // Check GDPR consent for analytics
              const hasConsent = localStorage.getItem('gdpr_consent') === 'accepted';
              if (!hasConsent && window.DEBUG_MODE) {
                console.log('GDPR consent not given, analytics disabled');
              }
              
            } catch (error) {
              if (window.DEBUG_MODE) {
                console.warn('Firebase non-critical modules failed:', error);
              }
            }
          }
        `;
        document.head.appendChild(script);
      }, 2000); // Delay to prioritize main content
    </script>
    
    <!-- SEO Enhancement: Breadcrumb navigation for Google -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://careercraft.in/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Fresher Jobs India",
          "item": "https://careercraft.in/latest-jobs-for-freshers-india"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Resume Builder",
          "item": "https://careercraft.in/free-resume-builder"
        },
        {
          "@type": "ListItem",
          "position": 4,
          "name": "ATS Resume Builder",
          "item": "https://careercraft.in/ats-resume-builder"
        },
        {
          "@type": "ListItem",
          "position": 5,
          "name": "Online Resume Maker",
          "item": "https://careercraft.in/online-resume-maker"
        },
        {
          "@type": "ListItem",
          "position": 6,
          "name": "CV Maker Online",
          "item": "https://careercraft.in/cv-maker-online"
        },
        {
          "@type": "ListItem",
          "position": 7,
          "name": "Professional Resume Builder",
          "item": "https://careercraft.in/professional-resume-builder"
        },
        {
          "@type": "ListItem",
          "position": 8,
          "name": "Resume Builder for Freshers",
          "item": "https://careercraft.in/resume-builder-for-freshers"
        },
        {
          "@type": "ListItem",
          "position": 9,
          "name": "Resume Builder for Engineers",
          "item": "https://careercraft.in/resume-builder-for-engineers"
        },
        {
          "@type": "ListItem",
          "position": 10,
          "name": "Resume Builder for IT Jobs",
          "item": "https://careercraft.in/resume-builder-for-it-jobs"
        },
        {
          "@type": "ListItem",
          "position": 11,
          "name": "Resume Builder for Developers",
          "item": "https://careercraft.in/resume-builder-for-developers"
        },
        {
          "@type": "ListItem",
          "position": 12,
          "name": "Create Resume Online",
          "item": "https://careercraft.in/create-resume-online"
        },
        {
          "@type": "ListItem",
          "position": 13,
          "name": "Edit Resume",
          "item": "https://careercraft.in/edit"
        }
      ]
    }
    </script>
    
    <!-- DEBUG & TROUBLESHOOTING (only in debug mode) -->
    <script>
      if (window.location.hostname.includes('localhost')) {
        window.addEventListener('load', () => {
          setTimeout(() => {
            console.log('=== CareerCraft Debug Info ===');
            console.log('URL:', window.location.href);
            console.log('Environment:', window.location.hostname.includes('localhost') ? 'development' : 'production');
            console.log('Firebase loaded:', !!window.firebaseApp);
            console.log('Firestore loaded:', !!window.firebaseFirestore);
            console.log('Functions loaded:', !!window.firebaseFunctions);
            console.log('Analytics loaded:', !!window.firebaseAnalytics);
            console.log('Auth loaded:', !!window.firebaseAuth);
            console.log('Backend URL: https://us-central1-careercraft-36711.cloudfunctions.net');
            console.log('============================');
          }, 2000);
        });
      }
    </script>
  </body>
</html>