// Simple rate limiting implementation// In production, use Redis or a dedicated rate limiting serviceconst rateLimitStore = new Map<string, { count: number; resetTime: number }>();export const rateLimit = (max: number, windowMs: number, key: string): boolean => {  const now = Date.now();  const keyData = rateLimitStore.get(key) || { count: 0, resetTime: now + windowMs };    if (now > keyData.resetTime) {    keyData.count = 0;    keyData.resetTime = now + windowMs;  }    if (keyData.count >= max) {    return false;  }    keyData.count++;  rateLimitStore.set(key, keyData);    // Clean up old entries periodically  if (Math.random() < 0.01) { // 1% chance to clean up    for (const [oldKey, oldData] of rateLimitStore.entries()) {      if (now > oldData.resetTime + 60000) { // Keep for 1 minute after expiry        rateLimitStore.delete(oldKey);      }    }  }    return true;};